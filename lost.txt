# 유실된 변경사항 목록
# 생성일: 2025-12-31 17:10 브랜치 이동 시 발생



================================================================================
## 유실된 파일 (복구 불가)
================================================================================

### 1. outbox → task 리네임 (7개 파일)
원래 계획: application/outbox/* → application/task/* 이동

유실된 이동 작업:
- outbox/dto/query/GetOutboxListQuery.java → task/dto/query/GetOutboxListQuery.java
- outbox/dto/response/OutboxResponse.java → task/dto/response/OutboxResponse.java
- outbox/dto/response/RepublishResultResponse.java → task/dto/response/RepublishResultResponse.java
- outbox/port/in/command/RepublishOutboxUseCase.java → task/port/in/command/RepublishOutboxUseCase.java
- outbox/port/in/query/GetOutboxListUseCase.java → task/port/in/query/GetOutboxListUseCase.java
- outbox/service/command/RepublishOutboxService.java → task/service/command/RepublishOutboxService.java
- outbox/service/query/GetOutboxListService.java → task/service/query/GetOutboxListService.java


### 2. Outbox Controller/Mapper 수정사항
(기능 브랜치에 커밋 안 됨 - 원래 수정 내용 유실)
- adapter-in/rest-api/.../outbox/controller/OutboxController.java
- adapter-in/rest-api/.../outbox/mapper/OutboxApiMapper.java
- adapter-in/rest-api/src/test/.../outbox/controller/OutboxControllerDocsTest.java
- adapter-in/rest-api/src/test/.../outbox/mapper/OutboxApiMapperTest.java


### 3. Persistence Layer 수정사항
- adapter-out/persistence-mysql/.../config/FlywayConfig.java
- adapter-out/persistence-mysql/.../useragent/entity/UserAgentJpaEntity.java
- adapter-out/persistence-mysql/.../useragent/mapper/UserAgentJpaEntityMapper.java
- adapter-out/persistence-mysql/src/test/.../useragent/mapper/UserAgentJpaEntityMapperTest.java
- adapter-out/persistence-redis/src/main/resources/redis-local.yml


### 4. Domain Layer 수정사항
- domain/.../useragent/aggregate/UserAgent.java
- domain/.../useragent/vo/Token.java
- domain/src/testFixtures/.../useragent/TokenFixture.java
- domain/src/testFixtures/.../useragent/UserAgentFixture.java


### 5. 기타 수정사항
- local-dev/docker-compose.aws.yml
- application/src/test/.../outbox/service/command/RepublishOutboxServiceTest.java


================================================================================
## 원인 분석
================================================================================

브랜치 이동 시 `git add -A`가 staged rename을 덮어씀:
1. Staging Area에 outbox → task 리네임이 있었음
2. Working Directory에는 outbox 파일만 존재 (task 파일 미생성)
3. `git add -A`가 Working Directory 기준으로 재스테이징
4. 결과: staged rename이 취소되고 outbox 파일 그대로 유지


================================================================================
## 복구 방안
================================================================================

1. outbox → task 리네임: 수동으로 다시 진행 필요
2. 수정사항들: IntelliJ Local History 확인 또는 재작업 필요
