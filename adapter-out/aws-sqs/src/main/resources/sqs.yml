# ========================================
# AWS SQS Configuration (Default/Production)
# ========================================
# Terraform outputs reference:
#   - queue_url: /${project_name}/sqs/crawling-task-queue-url (SSM Parameter)
#   - queue_arn: /${project_name}/sqs/crawling-task-queue-arn (SSM Parameter)
#   - dlq_url:   /${project_name}/sqs/crawling-task-dlq-url (SSM Parameter)
#
# Queue Type: Standard (NOT FIFO)
# Queue Name Pattern: ${project_name}-crawling-task-${environment}
# ========================================

# ========================================
# Application Messaging Configuration
# ========================================
app:
  messaging:
    sqs:
      # SQS 어댑터 활성화 여부
      # true: ProductImageSqsAdapter, ProductSyncSqsAdapter 등 활성화
      # false 또는 미설정: NoOp 어댑터 사용 (개발/테스트 환경)
      enabled: ${SQS_ENABLED:true}

aws:
  sqs:
    # AWS Region
    region: ${AWS_REGION:ap-northeast-2}

    # Crawl Task Queue URL
    # Production: Terraform output -> SSM Parameter -> ECS Task Definition
    crawl-task-queue-url: ${SQS_CRAWL_TASK_QUEUE_URL:}

    # ProductImage Queue URL (for image upload processing)
    # Production: Terraform output -> SSM Parameter -> ECS Task Definition
    product-image-queue-url: ${SQS_PRODUCT_IMAGE_QUEUE_URL:}

    # ProductSync Queue URL (for external product sync)
    # Production: Terraform output -> SSM Parameter -> ECS Task Definition
    product-sync-queue-url: ${SQS_PRODUCT_SYNC_QUEUE_URL:}

    # Message Group ID Prefix (FIFO only, Standard queue does not use this)
    message-group-id-prefix: crawl-task-

logging:
  level:
    com.ryuqq.crawlinghub.adapter.out.sqs: INFO
    software.amazon.awssdk: WARN
