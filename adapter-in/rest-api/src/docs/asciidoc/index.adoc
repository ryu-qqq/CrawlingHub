= CrawlingHub REST API Documentation
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 3
:sectlinks:

[[overview]]
== 개요

CrawlingHub REST API 문서입니다.
이 문서는 Spring REST Docs를 사용하여 테스트 기반으로 자동 생성됩니다.

[[overview-http-verbs]]
=== HTTP 메서드

RESTful 서비스에서 사용하는 HTTP 메서드:

|===
| 메서드 | 용도

| `GET`
| 리소스 조회

| `POST`
| 리소스 생성

| `PATCH`
| 리소스 부분 수정

| `DELETE`
| 리소스 삭제
|===

[[overview-http-status-codes]]
=== HTTP 상태 코드

|===
| 상태 코드 | 설명

| `200 OK`
| 요청 성공

| `201 Created`
| 리소스 생성 성공

| `400 Bad Request`
| 잘못된 요청 (유효성 검증 실패)

| `401 Unauthorized`
| 인증 필요

| `403 Forbidden`
| 권한 없음

| `404 Not Found`
| 리소스를 찾을 수 없음

| `500 Internal Server Error`
| 서버 내부 오류
|===

[[overview-response-format]]
=== 공통 응답 형식

모든 API는 다음과 같은 공통 응답 형식을 사용합니다:

[source,json]
----
{
  "success": true,
  "data": { ... },
  "error": null,
  "timestamp": "2025-11-20T10:30:00",
  "requestId": "req-123456"
}
----

[[overview-authentication]]
=== 인증

모든 API는 JWT 토큰 기반 인증을 사용합니다.

[source,http]
----
Authorization: Bearer {jwt-token}
----

[[overview-permissions]]
=== 권한

API별로 필요한 권한이 정의되어 있습니다. 권한 체계:

|===
| 권한 | 설명

| `dashboard:read`
| 대시보드 통계 조회

| `seller:read`
| 셀러 조회

| `seller:write`
| 셀러 등록/수정

| `schedule:read`
| 스케줄러 조회

| `schedule:write`
| 스케줄러 등록/수정/트리거

| `task:read`
| 태스크 조회

| `task:write`
| 태스크 재시도

| `execution:read`
| 실행 결과 조회

| `useragent:read`
| UserAgent 조회

| `useragent:write`
| UserAgent 복구

| `product:read`
| 상품 조회

| `product:write`
| 상품 동기화

| `outbox:read`
| Outbox 조회

| `outbox:write`
| Outbox 재발행/재시도
|===

// ============================================
// API 도메인별 문서 Include
// ============================================

include::dashboard.adoc[]

include::seller.adoc[]

include::schedule.adoc[]

include::task.adoc[]

include::execution.adoc[]

include::useragent.adoc[]

include::crawled-product.adoc[]

include::product-outbox.adoc[]

include::outbox.adoc[]

include::webhook.adoc[]
